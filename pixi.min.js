const app = new PIXI.Application({
  background: '#889966'
});
document.body.appendChild(app.view);

const container = new PIXI.Container();

app.stage.addChild(container);

const texture = PIXI.Texture.from('atirador.png')

const atirador = new PIXI.Sprite(texture);
atirador.anchor.set(0.5)
atirador.rotation = 270 * Math.PI / 180;
atirador.scale.set(0.75)

container.addChild(atirador);

atirador.x = 370
atirador.y = 530

let speed = 10;
let atirando = false;

if(atirador.x > (800 - atirador.width)){

}
else{
  window.addEventListener('keydown', (event) => {
    if (event.key === 'a' || event.key === 'A') {
      atirador.x -= speed;
    } else if (event.key === 'd' || event.key === 'D') {
      atirador.x += speed;
    } else if (event.key === 'w' || event.key === 'W') {
      if (!atirando) {
        atirando = true;
        app.ticker.add(atirar);
      }
    }
  });
}
console.log(atirador.x)






const texture2 = PIXI.Texture.from('projetil.png')

let projetil = null;

function criarProjetil() {
  projetil = new PIXI.Sprite(texture2);
  projetil.scale.set(0.08);
  projetil.x = atirador.x + 23;
  projetil.y = atirador.y - 66;
  container.addChild(projetil);
}

function atirar(delta) {
  if (projetil === null) {
    criarProjetil();
  }

  const velocidadetiro = 15;

  projetil.y -= velocidadetiro;

  if (projetil.y < -projetil.height) {
    container.removeChild(projetil);
    projetil = null;
    atirando = false;
    app.ticker.remove(atirar);
  }
}

function randomNumber(min, max) {
  return Math.random() * (max - min) + min;
}

let numAleat = randomNumber(0.1, 0.2)
const texture3 = PIXI.Texture.from('bunny.png')

const bunny = new PIXI.Sprite(texture3);
bunny.scale.set(numAleat);
container.addChild(bunny);

let larguraAleat = randomNumber(0, container.width  * 2)
bunny.x = larguraAleat